{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from \"isomorphic-fetch\";\nimport Layout from \"../components/Layout\";\nimport Error from \"next/error\";\n\nvar Story = function Story(_ref) {\n  var story = _ref.story;\n\n  if (!story) {\n    return __jsx(Error, {\n      statusCode: 503\n    });\n  }\n\n  var createMarkup = function createMarkup(content) {\n    console.log(\"===\", content);\n    return {\n      __html: content.content\n    };\n  };\n\n  return __jsx(Layout, {\n    title: story.title,\n    backButton: true\n  }, __jsx(\"main\", {\n    className: \"jsx-3481094536\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-3481094536\" + \" \" + \"story-title\"\n  }, __jsx(\"a\", {\n    href: story.url,\n    className: \"jsx-3481094536\"\n  }, \" \", story.title, \" \")), story.comments.map(function (comment) {\n    return __jsx(\"div\", {\n      key: comment.id,\n      className: \"jsx-3481094536\" + \" \" + \"story-details\"\n    }, __jsx(\"strong\", {\n      className: \"jsx-3481094536\" + \" \" + \"comment-title\"\n    }, \" \", comment.user, \" \"), __jsx(\"div\", {\n      dangerouslySetInnerHTML: createMarkup(comment),\n      className: \"jsx-3481094536\"\n    }), __jsx(\"strong\", {\n      className: \"jsx-3481094536\"\n    }, \" \", comment.time_ago, \" \"));\n  }), __jsx(_JSXStyle, {\n    id: \"3481094536\"\n  }, [\"main.jsx-3481094536{padding:1em;}\", \".story-title.jsx-3481094536{font-size:1.2rem;margin:0;font-weight:300;padding-bottom:0.5em;}\", \".story-title.jsx-3481094536 a.jsx-3481094536{color:#333;-webkit-text-decoration:none;text-decoration:none;}\", \".story-title.jsx-3481094536 a.jsx-3481094536:hover{-webkit-text-decoration:underline;text-decoration:underline;}\", \".story-details.jsx-3481094536{font-size:0.8rem;padding:1em;border-bottom:1px solid rgba(0,0,0,0.1);margin-botttom:1em;}\", \".comment-title.jsx-3481094536{font-size:1rem;}\", \".story-details.jsx-3481094536 strong.jsx-3481094536{margin-right:1em;}\", \".story-details.jsx-3481094536 a.jsx-3481094536{color:#f60;}\"])));\n};\n\nStory.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var req, res, query, story, storyId, response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref2.req, res = _ref2.res, query = _ref2.query;\n            _context.prev = 1;\n            storyId = query.id;\n            _context.next = 5;\n            return fetch(\"https://node-hnapi.herokuapp.com/item/\".concat(storyId));\n\n          case 5:\n            response = _context.sent;\n            _context.next = 8;\n            return response.json();\n\n          case 8:\n            story = _context.sent;\n            _context.next = 15;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n            story = null;\n\n          case 15:\n            return _context.abrupt(\"return\", {\n              story: story\n            });\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 11]]);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport default Story;","map":null,"metadata":{},"sourceType":"module"}