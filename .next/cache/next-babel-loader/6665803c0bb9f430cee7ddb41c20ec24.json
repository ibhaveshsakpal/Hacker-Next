{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/media/bhavesh/data/Practice/Next Js/Small Apps/Hacker-Next/pages/story.js\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from \"isomorphic-fetch\";\nimport Layout from \"../components/Layout\";\nimport Error from \"next/error\";\n\nvar Story = function Story(_ref) {\n  var story = _ref.story;\n  console.log(story);\n\n  if (!story) {\n    return __jsx(Error, {\n      statusCode: 503,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 12\n      }\n    });\n  }\n\n  var createMarkup = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(content) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"===\", content);\n              return _context.abrupt(\"return\", {\n                __html: content\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function createMarkup(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, {\n    title: story.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, __jsx(\"main\", {\n    className: \"jsx-3968893706\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-3968893706\" + \" \" + \"story-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    href: story.url,\n    className: \"jsx-3968893706\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }\n  }, \" \", story.title, \" \")), story.comments.map(function (comment) {\n    return __jsx(\"div\", {\n      key: comment.id,\n      className: \"jsx-3968893706\" + \" \" + \"story-details\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      dangerouslySetInnerHTML: createMarkup(comment.cotent),\n      className: \"jsx-3968893706\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }));\n  }), __jsx(_JSXStyle, {\n    id: \"3968893706\",\n    __self: _this\n  }, \"main.jsx-3968893706{padding:1em;}.story-title.jsx-3968893706{font-size:1.2rem;margin:0;font-weight:300;padding-bottom:0.5em;}.story-title.jsx-3968893706 a.jsx-3968893706{color:#333;-webkit-text-decoration:none;text-decoration:none;}.story-title.jsx-3968893706 a.jsx-3968893706:hover{-webkit-text-decoration:underline;text-decoration:underline;}.story-details.jsx-3968893706{font-size:0.8rem;padding-bottom:1em;border-bottom:1px solid rgba(0,0,0,0.1);margin-botttom:1em;}.story-details.jsx-3968893706 strong.jsx-3968893706{margin-right:1em;}.story-details.jsx-3968893706 a.jsx-3968893706{color:#f60;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tZWRpYS9iaGF2ZXNoL2RhdGEvUHJhY3RpY2UvTmV4dCBKcy9TbWFsbCBBcHBzL0hhY2tlci1OZXh0L3BhZ2VzL3N0b3J5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFDb0IsQUFHeUIsQUFJSyxBQU9OLEFBS2UsQUFJVCxBQU9BLEFBSU4sV0FuQlUsQUFvQnZCLENBL0JBLEtBSVcsQUFnQlUsQUFPckIsU0F0QmtCLFVBZ0IyQixNQWZ0QixrQkFVdkIsQ0FKQSxFQUxBLGFBZXFCLG1CQUNyQiIsImZpbGUiOiIvbWVkaWEvYmhhdmVzaC9kYXRhL1ByYWN0aWNlL05leHQgSnMvU21hbGwgQXBwcy9IYWNrZXItTmV4dC9wYWdlcy9zdG9yeS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmZXRjaCBmcm9tIFwiaXNvbW9ycGhpYy1mZXRjaFwiO1xuaW1wb3J0IExheW91dCBmcm9tIFwiLi4vY29tcG9uZW50cy9MYXlvdXRcIjtcbmltcG9ydCBFcnJvciBmcm9tIFwibmV4dC9lcnJvclwiO1xuXG5jb25zdCBTdG9yeSA9ICh7IHN0b3J5IH0pID0+IHtcbiAgY29uc29sZS5sb2coc3RvcnkpO1xuXG4gIGlmICghc3RvcnkpIHtcbiAgICByZXR1cm4gPEVycm9yIHN0YXR1c0NvZGU9ezUwM30gLz47XG4gIH1cblxuICBjb25zdCBjcmVhdGVNYXJrdXAgPSBhc3luYyAoY29udGVudCk9PiB7XG4gICBcbiAgICBjb25zb2xlLmxvZyhcIj09PVwiLGNvbnRlbnQpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICAgIF9faHRtbDogY29udGVudCAgICBcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0IHRpdGxlPXtzdG9yeS50aXRsZX0+XG4gICAgICA8bWFpbj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInN0b3J5LXRpdGxlXCI+XG4gICAgICAgICAgPGEgaHJlZj17c3RvcnkudXJsfT4ge3N0b3J5LnRpdGxlfSA8L2E+XG4gICAgICAgIDwvaDE+XG5cbiAgICAgICAge3N0b3J5LmNvbW1lbnRzLm1hcCgoY29tbWVudCkgPT4gKFxuICAgICAgICAgIDxkaXYga2V5PXtjb21tZW50LmlkfSBjbGFzc05hbWU9XCJzdG9yeS1kZXRhaWxzXCI+XG4gICAgICAgICAgICB7LyogPHN0cm9uZz57c3RvcnkucG9pbnRzfSBwb2ludHM8L3N0cm9uZz5cbiAgICAgICAgICAgIDxzdHJvbmc+e3N0b3J5LmNvbW1lbnRzX2NvdW50fSBjb21tZW50czwvc3Ryb25nPlxuICAgICAgICAgICAgPHN0cm9uZz57c3RvcnkudGltZV9hZ299PC9zdHJvbmc+ICovfVxuICAgICAgICAgICAgPGRpdiBkYW5nZXJvdXNseVNldElubmVySFRNTD17Y3JlYXRlTWFya3VwKGNvbW1lbnQuY290ZW50KX0+PC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG5cbiAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgIG1haW4ge1xuICAgICAgICAgICAgcGFkZGluZzogMWVtO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5zdG9yeS10aXRsZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiAzMDA7XG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC41ZW07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnN0b3J5LXRpdGxlIGEge1xuICAgICAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnN0b3J5LXRpdGxlIGE6aG92ZXIge1xuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnN0b3J5LWRldGFpbHMge1xuICAgICAgICAgICAgZm9udC1zaXplOiAwLjhyZW07XG4gICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMWVtO1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0dG9tOiAxZW07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnN0b3J5LWRldGFpbHMgc3Ryb25nIHtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMWVtO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC5zdG9yeS1kZXRhaWxzIGEge1xuICAgICAgICAgICAgY29sb3I6ICNmNjA7XG4gICAgICAgICAgfVxuICAgICAgICBgfTwvc3R5bGU+XG4gICAgICA8L21haW4+XG4gICAgPC9MYXlvdXQ+XG4gICk7XG59O1xuXG5TdG9yeS5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoeyByZXEsIHJlcywgcXVlcnkgfSkgPT4ge1xuICBsZXQgc3Rvcnk7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RvcnlJZCA9IHF1ZXJ5LmlkO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9ub2RlLWhuYXBpLmhlcm9rdWFwcC5jb20vaXRlbS8ke3N0b3J5SWR9YFxuICAgICk7XG4gICAgc3RvcnkgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgc3RvcnkgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHsgc3RvcnkgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFN0b3J5O1xuIl19 */\\n/*@ sourceURL=/media/bhavesh/data/Practice/Next Js/Small Apps/Hacker-Next/pages/story.js */\")));\n};\n\n_c = Story;\n\nStory.getInitialProps = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3) {\n    var req, res, query, story, storyId, response;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            req = _ref3.req, res = _ref3.res, query = _ref3.query;\n            _context2.prev = 1;\n            storyId = query.id;\n            _context2.next = 5;\n            return fetch(\"https://node-hnapi.herokuapp.com/item/\".concat(storyId));\n\n          case 5:\n            response = _context2.sent;\n            _context2.next = 8;\n            return response.json();\n\n          case 8:\n            story = _context2.sent;\n            _context2.next = 15;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](1);\n            console.log(_context2.t0);\n            story = null;\n\n          case 15:\n            return _context2.abrupt(\"return\", {\n              story: story\n            });\n\n          case 16:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[1, 11]]);\n  }));\n\n  return function (_x2) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexport default Story;\n\nvar _c;\n\n$RefreshReg$(_c, \"Story\");","map":{"version":3,"sources":["/media/bhavesh/data/Practice/Next Js/Small Apps/Hacker-Next/pages/story.js"],"names":["fetch","Layout","Error","Story","story","console","log","createMarkup","content","__html","title","url","comments","map","comment","id","cotent","getInitialProps","req","res","query","storyId","response","json"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,kBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,YAAlB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAe;AAAA,MAAZC,KAAY,QAAZA,KAAY;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AAEA,MAAI,CAACA,KAAL,EAAY;AACV,WAAO,MAAC,KAAD;AAAO,MAAA,UAAU,EAAE,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,MAAMG,YAAY;AAAA,yEAAG,iBAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAEnBH,cAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBE,OAAlB;AAFmB,+CAIZ;AACHC,gBAAAA,MAAM,EAAED;AADL,eAJY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZD,YAAY;AAAA;AAAA;AAAA,KAAlB;;AASA,SACE,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAEH,KAAK,CAACM,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAc,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAEN,KAAK,CAACO,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAsBP,KAAK,CAACM,KAA5B,MADF,CADF,EAKGN,KAAK,CAACQ,QAAN,CAAeC,GAAf,CAAmB,UAACC,OAAD;AAAA,WAClB;AAAK,MAAA,GAAG,EAAEA,OAAO,CAACC,EAAlB;AAAA,0CAAgC,eAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AAAK,MAAA,uBAAuB,EAAER,YAAY,CAACO,OAAO,CAACE,MAAT,CAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,CADkB;AAAA,GAAnB,CALH;AAAA;AAAA;AAAA,skIADF,CADF;AAwDD,CAxED;;KAAMb,K;;AA0ENA,KAAK,CAACc,eAAN;AAAA,uEAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,GAAT,SAASA,GAAT,EAAcC,GAAd,SAAcA,GAAd,EAAmBC,KAAnB,SAAmBA,KAAnB;AAAA;AAGdC,YAAAA,OAHc,GAGJD,KAAK,CAACL,EAHF;AAAA;AAAA,mBAIGf,KAAK,iDACeqB,OADf,EAJR;;AAAA;AAIdC,YAAAA,QAJc;AAAA;AAAA,mBAONA,QAAQ,CAACC,IAAT,EAPM;;AAAA;AAOpBnB,YAAAA,KAPoB;AAAA;AAAA;;AAAA;AAAA;AAAA;AASpBC,YAAAA,OAAO,CAACC,GAAR;AACAF,YAAAA,KAAK,GAAG,IAAR;;AAVoB;AAAA,8CAaf;AAAEA,cAAAA,KAAK,EAALA;AAAF,aAbe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAgBA,eAAeD,KAAf","sourcesContent":["import fetch from \"isomorphic-fetch\";\nimport Layout from \"../components/Layout\";\nimport Error from \"next/error\";\n\nconst Story = ({ story }) => {\n  console.log(story);\n\n  if (!story) {\n    return <Error statusCode={503} />;\n  }\n\n  const createMarkup = async (content)=> {\n   \n    console.log(\"===\",content);\n    \n    return {\n        __html: content    \n    };\n  }\n\n  return (\n    <Layout title={story.title}>\n      <main>\n        <h1 className=\"story-title\">\n          <a href={story.url}> {story.title} </a>\n        </h1>\n\n        {story.comments.map((comment) => (\n          <div key={comment.id} className=\"story-details\">\n            {/* <strong>{story.points} points</strong>\n            <strong>{story.comments_count} comments</strong>\n            <strong>{story.time_ago}</strong> */}\n            <div dangerouslySetInnerHTML={createMarkup(comment.cotent)}></div>\n            \n          </div>\n        ))}\n\n        <style jsx>{`\n          main {\n            padding: 1em;\n          }\n\n          .story-title {\n            font-size: 1.2rem;\n            margin: 0;\n            font-weight: 300;\n            padding-bottom: 0.5em;\n          }\n\n          .story-title a {\n            color: #333;\n            text-decoration: none;\n          }\n\n          .story-title a:hover {\n            text-decoration: underline;\n          }\n\n          .story-details {\n            font-size: 0.8rem;\n            padding-bottom: 1em;\n            border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n            margin-botttom: 1em;\n          }\n\n          .story-details strong {\n            margin-right: 1em;\n          }\n\n          .story-details a {\n            color: #f60;\n          }\n        `}</style>\n      </main>\n    </Layout>\n  );\n};\n\nStory.getInitialProps = async ({ req, res, query }) => {\n  let story;\n  try {\n    const storyId = query.id;\n    const response = await fetch(\n      `https://node-hnapi.herokuapp.com/item/${storyId}`\n    );\n    story = await response.json();\n  } catch (err) {\n    console.log(err);\n    story = null;\n  }\n\n  return { story };\n};\n\nexport default Story;\n"]},"metadata":{},"sourceType":"module"}