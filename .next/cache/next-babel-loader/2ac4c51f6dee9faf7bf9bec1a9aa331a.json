{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport fetch from \"isomorphic-fetch\";\nimport Layout from \"../components/Layout\";\nimport Error from \"next/error\";\n\nconst Story = ({\n  story\n}) => {\n  if (!story) {\n    return __jsx(Error, {\n      statusCode: 503\n    });\n  }\n\n  const createMarkup = content => {\n    console.log(\"===\", content);\n    return {\n      __html: content.content\n    };\n  };\n\n  return __jsx(Layout, {\n    title: story.title,\n    backButton: true\n  }, __jsx(\"main\", {\n    className: \"jsx-3481094536\"\n  }, __jsx(\"h1\", {\n    className: \"jsx-3481094536\" + \" \" + \"story-title\"\n  }, __jsx(\"a\", {\n    href: story.url,\n    className: \"jsx-3481094536\"\n  }, \" \", story.title, \" \")), story.comments.map(comment => __jsx(\"div\", {\n    key: comment.id,\n    className: \"jsx-3481094536\" + \" \" + \"story-details\"\n  }, __jsx(\"strong\", {\n    className: \"jsx-3481094536\" + \" \" + \"comment-title\"\n  }, \" \", comment.user, \" \"), __jsx(\"div\", {\n    dangerouslySetInnerHTML: createMarkup(comment),\n    className: \"jsx-3481094536\"\n  }), __jsx(\"strong\", {\n    className: \"jsx-3481094536\"\n  }, \" \", comment.time_ago, \" \"))), __jsx(_JSXStyle, {\n    id: \"3481094536\"\n  }, [\"main.jsx-3481094536{padding:1em;}\", \".story-title.jsx-3481094536{font-size:1.2rem;margin:0;font-weight:300;padding-bottom:0.5em;}\", \".story-title.jsx-3481094536 a.jsx-3481094536{color:#333;-webkit-text-decoration:none;text-decoration:none;}\", \".story-title.jsx-3481094536 a.jsx-3481094536:hover{-webkit-text-decoration:underline;text-decoration:underline;}\", \".story-details.jsx-3481094536{font-size:0.8rem;padding:1em;border-bottom:1px solid rgba(0,0,0,0.1);margin-botttom:1em;}\", \".comment-title.jsx-3481094536{font-size:1rem;}\", \".story-details.jsx-3481094536 strong.jsx-3481094536{margin-right:1em;}\", \".story-details.jsx-3481094536 a.jsx-3481094536{color:#f60;}\"])));\n};\n\nStory.getInitialProps = async ({\n  req,\n  res,\n  query\n}) => {\n  let story;\n\n  try {\n    const storyId = query.id;\n    const response = await fetch(`https://node-hnapi.herokuapp.com/item/${storyId}`);\n    story = await response.json();\n  } catch (err) {\n    console.log(err);\n    story = null;\n  }\n\n  return {\n    story\n  };\n};\n\nexport default Story;","map":null,"metadata":{},"sourceType":"module"}